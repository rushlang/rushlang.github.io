<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebSocket示例</title>
</head>
<body>
    <h1>WebSocket示例</h1>

    <script type="text/javascript">
		
		var xmlhttp = new XMLHttpRequest();

		// 设置访问的文件路径
		var fileUrl="test.txt";
	    	//fileUrl="www.baidu.com";
	    
		// 发送GET请求
	    	//xmlhttp.setRequestHeader("Authorization","token_value");　　//设置请求头认证,header 设置必须放在 open() 后面
		//xml.setRequestHeader("Cookie","cookiename=value");
	    	//xmlhttp.withCredentials = true; //一个布尔值，用来指定跨域 Access-Control 请求是否应带有授权信息，如 cookie 或授权 header 头。
	    	// xhr.responseType='json';// 请求所期待返回的数据类型
		xmlhttp.open("GET", fileUrl, true);
		

		// 监听状态变化
		xmlhttp.onreadystatechange = function() {
		  if (this.readyState == 4 && this.status == 200) {
			// 获取响应文本
			var fileContent = xmlhttp.responseText;
			// 输出到控制台
			console.log(fileContent);
		  }
		};
	    	xmlhttp.send();
	
        // 创建WebSocket对象
        /*var ws = new WebSocket('ws://118.255.156.155:998');

        // 监听WebSocket事件
        ws.onopen = function() {
            console.log('WebSocket连接已建立');
			ws.send('Hello, WebSocket!');
        };

        ws.onmessage = function(event) {
            console.log('接收到WebSocket消息：', event.data);
        };

        ws.onclose = function(event) {
            console.log('WebSocket连接已关闭');
        };

        ws.onerror = function(event) {
            console.log('WebSocket连接发生错误');
        };*/

        // 发送WebSocket消息
       // 
    </script>
</body>
</html>
